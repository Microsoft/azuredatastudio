{
  "name": "resource-deployment",
  "displayName": "%extension-displayName%",
  "description": "%extension-description%",
  "version": "0.0.1",
  "publisher": "Microsoft",
  "preview": true,
  "license": "https://raw.githubusercontent.com/Microsoft/azuredatastudio/master/LICENSE.txt",
  "icon": "images/sqlserver.png",
  "aiKey": "AIF-5574968e-856d-40d2-af67-c89a14e76412",
  "engines": {
    "vscode": "*",
    "azdata": "^1.6.0"
  },
  "activationEvents": [
    "onCommand:azdata.resource.sql-image.deploy",
    "onCommand:azdata.resource.sql-bdc.deploy"
  ],
  "main": "./out/main",
  "repository": {
    "type": "git",
    "url": "https://github.com/Microsoft/azuredatastudio.git"
  },
  "extensionDependencies": [
    "Microsoft.mssql"
  ],
  "contributes": {
    "commands": [
      {
        "command": "azdata.resource.sql-image.deploy",
        "title": "%deploy-sql-image-command-name%",
        "category": "%deploy-resource-command-category%"
      },
      {
        "command": "azdata.resource.sql-bdc.deploy",
        "title": "%deploy-sql-bdc-command-name%",
        "category": "%deploy-resource-command-category%"
      }
    ],
    "menus": {
      "dataExplorer/action": [
        {
          "command": "azdata.resource.sql-image.deploy",
          "group": "secondary"
        },
        {
          "command": "azdata.resource.sql-bdc.deploy",
          "group": "secondary"
        }
      ]
    }
  },
  "resourceTypes": [
    {
      "name": "sql-image",
      "displayName": "SQL Server container image with Docker",
      "options": [
        {
          "name": "version",
          "displayName": "Version",
          "values": [
            {
              "name": "sql2017",
              "displayName": "SQL Server 2017"
            },
            {
              "name": "sql2019",
              "displayName": "SQL Server 2019"
            }
          ]
        }
      ],
      "providers": [
        {
          "notebook": "./notebooks/sql2017-image-docker.ipynb",
          "requiredTools": [
            "docker"
          ],
          "when": "version=sql2017"
        },
        {
          "notebook": "./notebooks/sql2019-image-docker.ipynb",
          "requiredTools": [
            "docker"
          ],
          "when": "version=sql2019"
        }
      ]
    },
    {
      "name": "sql-bdc",
      "displayName": "SQL Server Big Data Cluster",
      "options": [
        {
          "name": "target",
          "displayName": "Deployment target",
          "values": [
            {
              "name": "aks",
              "displayName": "New Azure Kubernetes Service Cluster"
            },
            {
              "name": "existingCluster",
              "displayName": "Existing Kubernetes Cluster"
            }
          ]
        }
      ],
      "providers": [
        {
          "notebook": "./notebooks/sql2019-bdc-aks.ipynb",
          "requiredTools": [
            "kubectl",
            "az-cli",
            "mssqlctl"
          ],
          "when": "target=aks"
        },
        {
          "notebook": "./notebooks/sql2019-bdc-existing-cluster.ipynb",
          "requiredTools": [
            "kubectl",
            "mssqlctl"
          ],
          "when": "target=existingCluster"
        }
      ]
    }
  ],
  "dependencies": {
    "vscode-nls": "^3.2.1"
  }
}